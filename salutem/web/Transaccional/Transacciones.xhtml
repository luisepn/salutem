<?xml version='1.0' encoding='UTF-8' ?>
<!--
    Documento   : Seguridad
    Fecha       : 15 de Noviembre de 2017, 12:54:01 AM
    Author      : Luis Fernando Ordóñez Armijos
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:icecore="http://www.icefaces.org/icefaces/core"
      xmlns:ace="http://www.icefaces.org/icefaces/components">
    <h:body>
        <ui:composition template="../plantillas/Plantilla.xhtml">
            <ui:define name="content">
                <ace:panel 
                    header="Parámetros de búsqueda"
                    closable="false"
                    toggleable="true">
                    <h:panelGrid columns="2">
                        <h:outputLabel value="Profesional:" styleClass="bold"/>
                        <h:selectOneMenu value="#{salutemCombos.profesional}" disabled="#{salutemSeguridad.grupo.codigo eq 'GM'}">
                            <f:selectItems value="#{salutemCombos.profesionales}"/>
                        </h:selectOneMenu>
                        <h:outputLabel value="Fecha:" styleClass="bold"/>
                        <ace:dateTimeEntry navigator="true" value="#{salutemReporteCitas.fecha}" 
                                           popupIcon="ui-icon ui-icon-calendar" renderAsPopup="true" 
                                           pattern="dd/MM/yyyy" label="dd/MM/yyyy" labelPosition="infield"
                                           style="width: 200px;">
                            <f:convertDateTime pattern="dd/MM/yyyy" />
                        </ace:dateTimeEntry>
                    </h:panelGrid>
                    <h:panelGrid columns="2">
                        <ace:menuBar autoSubmenuDisplay="true" >
                            <ace:menuItem value="Buscar" icon="ui-icon ui-icon-search"  action="#{salutemReporteCitas.buscarTodo()}"/>
                        </ace:menuBar>
                    </h:panelGrid>

                </ace:panel>
                <ace:panel header="Citas Agendadas en la semana #{salutemReporteCitas.semana}" style="width: 100%">
                    <h:panelGrid columns="2" width="100%">
                        <h:panelGrid>
                            <ace:chart
                                legend="true"
                                showTooltip="true"
                                width="400"
                                animated="true"
                                legendPlacement="OUTSIDE_GRID"
                                value="#{salutemReporteCitas.pieCitasPorSemana}"/>
                        </h:panelGrid>
                        <ace:chart  
                            width="1000"
                            animated="false"
                            stackSeries="false"  
                            value="#{salutemReporteCitas.barrasCitasPorSemana.grafico}"
                            defaultSeriesConfig="#{salutemReporteCitas.barrasCitasPorSemana.subgraficoConfig}"
                            defaultAxesConfig="#{salutemReporteCitas.barrasCitasPorSemana.ordenadasGeneralConfig}"     
                            xAxis="#{salutemReporteCitas.barrasCitasPorSemana.abscisaBottom}"  
                            x2Axis="#{salutemReporteCitas.barrasCitasPorSemana.abscisaTop}"
                            yAxes="#{salutemReporteCitas.barrasCitasPorSemana.ordenadasConfigSpecific}"
                            legend="true"
                            showTooltip="true"
                            legendPlacement="OUTSIDE_GRID"
                            highlighter="true"
                            highlighterLocation="NW"
                            highlighterShowMarker="false"
                            highlighterBringSeriesToFront="true"
                            zoom="true"/>
                    </h:panelGrid>
                </ace:panel>
                <ace:panel header="Citas Agendadas en el mes  #{salutemReporteCitas.mes}" style="width: 100%">
                    <h:panelGrid columns="2" width="100%">
                        <h:panelGrid>
                            <ace:chart
                                title="Citas Por Mes"
                                legend="true"
                                showTooltip="true"
                                width="400"
                                animated="true"
                                legendPlacement="OUTSIDE_GRID"
                                value="#{salutemReporteCitas.pieCitasPorMes}"/>
                            <ace:chart
                                title="Atenciones Por Mes"
                                legend="true"
                                showTooltip="true"
                                width="400"
                                animated="true"
                                legendPlacement="OUTSIDE_GRID"
                                value="#{salutemReporteCitas.pieAtencionesMes}"
                                defaultSeriesConfig="#{salutemReporteCitas.model}"/>
                        </h:panelGrid> 
                        <ace:chart  
                            width="800"
                            animated="false"
                            stackSeries="false"  
                            value="#{salutemReporteCitas.barrasCitasPorMes.grafico}"
                            defaultAxesConfig="#{salutemReporteCitas.barrasCitasPorMes.ordenadasGeneralConfig}"     
                            xAxis="#{salutemReporteCitas.barrasCitasPorMes.abscisaBottom}"  
                            x2Axis="#{salutemReporteCitas.barrasCitasPorMes.abscisaTop}"
                            yAxes="#{salutemReporteCitas.barrasCitasPorMes.ordenadasConfigSpecific}"
                            legend="true"
                            showTooltip="true"
                            legendPlacement="OUTSIDE_GRID"
                            highlighter="true"
                            highlighterLocation="NW"
                            highlighterShowMarker="false"
                            highlighterBringSeriesToFront="true"
                            zoom="true"/>  
                    </h:panelGrid>
                </ace:panel>
                <ace:panel header="Citas Agendadas en el año #{salutemReporteCitas.anio}" style="width: 100%">
                    <h:panelGrid columns="2" width="100%">
                        <ace:chart
                            legend="true"
                            showTooltip="true"
                            width="400"
                            animated="true"
                            legendPlacement="OUTSIDE_GRID"
                            value="#{salutemReporteCitas.pieCitasPorAnio}"/>
                        <ace:chart 
                            width="1000"
                            animated="false"
                            stackSeries="false"  
                            value="#{salutemReporteCitas.barrasCitasPorAnio.grafico}"
                            defaultSeriesConfig ="#{salutemReporteCitas.barrasCitasPorAnio.subgraficoConfig}"
                            defaultAxesConfig="#{salutemReporteCitas.barrasCitasPorAnio.ordenadasGeneralConfig}"     
                            xAxis="#{salutemReporteCitas.barrasCitasPorAnio.abscisaBottom}"  
                            x2Axis="#{salutemReporteCitas.barrasCitasPorAnio.abscisaTop}"
                            yAxes="#{salutemReporteCitas.barrasCitasPorAnio.ordenadasConfigSpecific}"
                            legend="true"
                            showTooltip="true"
                            legendPlacement="OUTSIDE_GRID"
                            highlighter="true"
                            highlighterLocation="NW"
                            highlighterShowMarker="false"
                            highlighterBringSeriesToFront="true"
                            zoom="true"/>
                    </h:panelGrid>
                </ace:panel>
            </ui:define>
        </ui:composition>
    </h:body>
</html>